{"version":3,"sources":["webpack:///src/views/main/demand_add.vue","webpack:///./src/views/main/demand_add.vue?04ed","webpack:///./src/views/main/demand_add.vue"],"names":["demand_add","data","dialogImageUrl","dialogVisible","disabled","nameinput","typeinput","type","selectType","contain","name","personId","demandList","isshowerror","mess","created","this","localStorage","getItem","getClassifyList","JSON","parse","i","length","mounted","document","addEventListener","onBackKeyDown","beforeDestroy","removeEventListener","methods","_this","api","post","dicId","GLOBAL","DEMAND","err","success","console","log","msg","addDR","_this2","requireName","requireContent","$router","push","params","show","setItem","stringify_default","axios_default","url","method","ct","transformRequest","lib_default","a","stringify","headers","Content-Type","back","jquery_default","css","cancel","comfirm","obj","getModify","_this3","tel","email","id","alert","personSave","watch","val","oldval","filterKG","reg","match","replace","j","code","main_demand_add","render","_vm","_h","$createElement","_c","_self","staticClass","on","click","$event","stopPropagation","attrs","src","__webpack_require__","alt","_v","placeholder","maxlength","clearable","model","value","callback","$$v","expression","_l","item","key","autosize","staticStyle","width","height","background","margin-top","directives","rawName","position","_s","staticRenderFns","Component","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/25.8ebe2fe8459a93316cda.js","sourcesContent":["<template>\r\n    <div class='demand_add'>\r\n        <div class=\"header\">\r\n            <div class=\"back\"  @click.stop=\"back()\">\r\n                <img src=\"../../assets/image/联合42.png\" alt=\"\">\r\n            </div>\r\n            <div class=\"demandHead\">需求提报</div>\r\n            <div class='save' @click='personSave()'>提交</div>\r\n        </div>\r\n        <div class='demandContainer'>\r\n            <div class='demandName'>\r\n                <div class='name'>名称</div>\r\n                <el-input\r\n                    placeholder=\"请输入\"\r\n                    v-model=\"nameinput\"\r\n                    maxlength=\"30\"\r\n                    clearable>\r\n                </el-input>\r\n            </div>\r\n            <div class='demandType'>\r\n                <div class='type'>类型</div>\r\n                <el-select v-model=\"typeinput\" placeholder=\"请选择\">\r\n                    <el-option\r\n                        v-for=\"item in type\"\r\n                        :key=\"item.code\"\r\n                        :value=\"item.name\">\r\n                    </el-option>\r\n                </el-select>\r\n            </div>\r\n            <div class='middle'></div>\r\n        </div>\r\n        <div class='demandContain'>\r\n            <el-input\r\n                maxlength=\"500\"\r\n                type=\"textarea\"\r\n                autosize\r\n                placeholder=\"请输入内容\"\r\n                v-model=\"contain\">\r\n            </el-input>\r\n        </div>\r\n        <!-- 编辑返回 -->\r\n        <div class='bigBox'>\r\n            <div class='smallBox'>\r\n                <img src=\"../../assets/image/开始考试的背景.png\" alt=\"\">\r\n                <div class='boxWord'>将此次编辑保留？</div>\r\n                <div class=\"text-list-start-startText-mess-two\">\r\n                    <div class=\"text-list-start-startText-mess-two-wait\" @click=\"cancel\">不保留</div>\r\n                    <div style=\"width:0.021rem;height:0.42rem;background:rgba(231,236,244,1);margin-top:0.3rem;\"></div>\r\n                    <div class=\"text-list-start-startText-mess-two-go\" @click=\"comfirm\">保留</div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"pwdError\" v-show=\"isshowerror\">\r\n            <img src=\"../../assets/image/密码错误.png\" style=\"position: relative;width: 4.3rem;height: 0.76rem;\">\r\n            <div class=\"pwdError-mes\">{{mess}}</div>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\nimport API from '@/api/api'\r\nimport axios from 'axios'\r\nimport $ from 'jquery'\r\nimport qs from 'qs'\r\nexport default {\r\n  data () {\r\n    return {\r\n      dialogImageUrl: '',\r\n      dialogVisible: false,\r\n      disabled: false,\r\n      nameinput: '', // 名称\r\n      typeinput: '', // 类型\r\n      type: [], // 类型\r\n      selectType: '', // 选中的类型\r\n      contain: '', // 内容\r\n      name: '', // 用户名称\r\n      personId: '', // 用户id\r\n      demandList: [], // 提报集合\r\n      isshowerror: false, // 是否提示\r\n      mess: '' // 错误提示\r\n    }\r\n  },\r\n  created () {\r\n    this.personId = localStorage.getItem('personId')\r\n    this.name = localStorage.getItem('personName')\r\n    this.getClassifyList()\r\n    if (!JSON.parse(localStorage.getItem('demandList'))) {\r\n      this.demandList = []\r\n    } else {\r\n      this.demandList = JSON.parse(localStorage.getItem('demandList'))\r\n      for (var i = 0; i < this.demandList.length; i++) {\r\n        if (this.personId === this.demandList[i].personId) {\r\n          this.nameinput = this.demandList[i].nameinput\r\n          this.selectType = this.demandList[i].selectType\r\n          this.contain = this.demandList[i].contain\r\n          this.typeinput = this.demandList[i].typeinput\r\n        }\r\n      }\r\n    }\r\n  },\r\n  mounted () {\r\n    // 监听返回键\r\n    document.addEventListener('backbutton', this.onBackKeyDown, false)\r\n  },\r\n  // 消除返回键监听\r\n  beforeDestroy () {\r\n    document.removeEventListener('backbutton', this.onBackKeyDown, false)\r\n  },\r\n  methods: {\r\n    // 需求类型\r\n    getClassifyList () {\r\n      API.post('getClassifyList', {\r\n        dicId: this.GLOBAL.DEMAND.dicId\r\n      }, 'json', (data, err) => {\r\n        if (!data.success) {\r\n          console.log(data.msg)\r\n        } else if (data.success) {\r\n          this.type = data.data\r\n        }\r\n      })\r\n    },\r\n    // 需求类型\r\n    addDR () {\r\n      API.post('addDR', {\r\n        requireName: this.nameinput,\r\n        type: this.selectType,\r\n        requireContent: this.contain\r\n      }, 'json', (data, err) => {\r\n        if (!data.success) {\r\n          this.isshowerror = true\r\n          this.mess = data.msg\r\n        } else if (data.success) {\r\n          this.$router.push({\r\n            name: 'demand_list',\r\n            params: { show: '1' }\r\n          })\r\n          for (var i = 0; i < this.demandList.length; i++) {\r\n            if (this.demandList[i].personId === this.personId) {\r\n              this.demandList[i].nameinput = ''\r\n              this.demandList[i].selectType = ''\r\n              this.demandList[i].contain = ''\r\n              this.demandList[i].typeinput = ''\r\n            }\r\n          }\r\n          localStorage.setItem('demandList', JSON.stringify(this.demandList))\r\n        }\r\n      })\r\n      // let config = {\r\n      //     headers: {\r\n      //     'Content-Type': 'multipart/form-data'\r\n      //     }\r\n      // }\r\n      axios({\r\n        url: 'http://120.27.7.33:8082/double3/outerNetInterface/add',\r\n        method: 'post',\r\n        data: {\r\n          requireName: this.nameinput,\r\n          type: this.selectType,\r\n          requireContent: this.contain,\r\n          ct: this.name\r\n        },\r\n        transformRequest: [function (data) {\r\n        // eslint-disable-next-line no-param-reassign\r\n          data = qs.stringify(data)\r\n          return data\r\n        }],\r\n        headers: { 'Content-Type': 'application/x-www-form-urlencoded' }\r\n      })\r\n\r\n      // axios.post('/double3/outerNetInterface/add',qs.stringify({\r\n      //     requireName:this.nameinput,\r\n      //     type:this.selectType,\r\n      //     requireContent:this.contain,\r\n      //     ct:'张青仁'\r\n      // }),'form',{\r\n      //     headers: {\r\n      //         \"Content-Type\": \"multipart/form-data\",\r\n      //         'Access-Control-Allow-Headers': 'x-requested-with,content-type',\r\n      //         'Access-Control-Allow-Methods' : 'POST'\r\n      //     },\r\n      // }).then(function (response) {\r\n      //     console.log(response);\r\n      // })\r\n      // .catch(function (error) {\r\n      //     console.log(error);\r\n      // });\r\n    },\r\n    // 返回\r\n    back () {\r\n      if (this.nameinput !== '' || this.selectType !== '' || this.contain !== '') {\r\n        $('.bigBox').css('display', 'flex')\r\n      } else {\r\n        this.$router.back()\r\n      }\r\n    },\r\n    // 返回键\r\n    onBackKeyDown () {\r\n      this.back()\r\n    },\r\n    // 不保留按钮\r\n    cancel () {\r\n      for (var i = 0; i < this.demandList.length; i++) {\r\n        if (this.demandList[i].personId === this.personId) {\r\n          this.demandList[i].nameinput = ''\r\n          this.demandList[i].selectType = ''\r\n          this.demandList[i].contain = ''\r\n          this.demandList[i].typeinput = ''\r\n        }\r\n      }\r\n      localStorage.setItem('demandList', JSON.stringify(this.demandList))\r\n      $('.bigBox').css('display', 'none')\r\n      this.$router.back()\r\n    },\r\n    // 保留按钮\r\n    comfirm () {\r\n      var obj = {}\r\n      obj.personId = this.personId\r\n      obj.nameinput = this.nameinput\r\n      obj.selectType = this.selectType\r\n      obj.contain = this.contain\r\n      obj.typeinput = this.typeinput\r\n      console.log(obj)\r\n      if (this.demandList.length === 0) {\r\n        this.demandList.push(obj)\r\n      } else {\r\n        for (var i = 0; i < this.demandList.length; i++) {\r\n          if (this.demandList[i].personId === this.personId) {\r\n            this.demandList[i].nameinput = this.nameinput\r\n            this.demandList[i].selectType = this.selectType\r\n            this.demandList[i].contain = this.contain\r\n            this.demandList[i].typeinput = this.typeinput\r\n          } else {\r\n            this.demandList.push(obj)\r\n          }\r\n        }\r\n      }\r\n\r\n      localStorage.setItem('demandList', JSON.stringify(this.demandList))\r\n      $('.bigBox').css('display', 'none')\r\n      this.$router.back()\r\n    },\r\n    // 个人信息保存\r\n    getModify () {\r\n      API.post('modify', {\r\n        tel: this.tel,\r\n        email: this.email,\r\n        id: this.personId\r\n      }, 'json', (data, err) => {\r\n        if (data.success) {\r\n          this.$router.back()\r\n        } else {\r\n          alert(data.msg)\r\n        }\r\n      })\r\n    },\r\n    // 保存\r\n    personSave () {\r\n      if ($('.save').css('opacity') === '1') {\r\n        this.addDR()\r\n      }\r\n    }\r\n  },\r\n  watch: {\r\n    nameinput (val, oldval) {\r\n      this.nameinput = this.GLOBAL.filterKG(val)\r\n      var reg = /[^\\u0020-\\u007E\\u00A0-\\u00BE\\u2E80-\\uA4CF\\uF900-\\uFAFF\\uFE30-\\uFE4F\\uFF00-\\uFFEF\\u0080-\\u009F\\u2000-\\u201f\\u2026\\u2022\\u20ac\\r\\n]/g\r\n      if (val.match(reg)) {\r\n        this.nameinput = val.replace(reg, '')\r\n      }\r\n      if (this.nameinput && this.typeinput && this.contain) {\r\n        $('.save').css('opacity', '1')\r\n        $('.save').css('color', '#6E747E')\r\n      } else {\r\n        $('.save').css('opacity', '0.7')\r\n        $('.save').css('color', '#C2CBD6')\r\n      }\r\n    },\r\n    typeinput (val, oldval) {\r\n      for (var j = 0; j < this.type.length; j++) {\r\n        if (this.typeinput === this.type[j].name) {\r\n          this.selectType = this.type[j].code\r\n        }\r\n      }\r\n      // console.log(this.selectType)\r\n      if (this.nameinput && this.typeinput && this.contain) {\r\n        $('.save').css('opacity', '1')\r\n        $('.save').css('color', '#6E747E')\r\n      } else {\r\n        $('.save').css('opacity', '0.7')\r\n        $('.save').css('color', '#C2CBD6')\r\n      }\r\n    },\r\n    contain (val, oldval) {\r\n      this.contain = this.GLOBAL.filterKG(val)\r\n      var reg = /[^\\u0020-\\u007E\\u00A0-\\u00BE\\u2E80-\\uA4CF\\uF900-\\uFAFF\\uFE30-\\uFE4F\\uFF00-\\uFFEF\\u0080-\\u009F\\u2000-\\u201f\\u2026\\u2022\\u20ac\\r\\n]/g\r\n      if (val.match(reg)) {\r\n        this.contain = val.replace(reg, '')\r\n      }\r\n      if (this.nameinput && this.typeinput && this.contain) {\r\n        $('.save').css('opacity', '1')\r\n        $('.save').css('color', '#6E747E')\r\n      } else {\r\n        $('.save').css('opacity', '0.7')\r\n        $('.save').css('color', '#C2CBD6')\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style scoped>\r\n    .demand_add{\r\n        width:100%;\r\n        height:100vh;\r\n    }\r\n    .header{\r\n        width:100%;\r\n        background:#fff;\r\n        font-size:0.38rem;\r\n        font-family: PingFang-SC-Medium;\r\n        position: fixed;\r\n        top:0;\r\n        height: 0.94rem;\r\n        z-index: 99;\r\n        text-align: center;\r\n        border-bottom: 0.012rem solid  rgba(222,230,242,1);\r\n    }\r\n    .back{\r\n        width:0.89rem;\r\n        height:0.94rem;\r\n        position: fixed;\r\n        top:0;\r\n        left:0;\r\n        display: flex;\r\n        justify-content: center;\r\n        align-items: center;\r\n        z-index: 100;\r\n    }\r\n    .back img{\r\n        width:0.19rem;\r\n        height:0.34rem;\r\n    }\r\n    .demand_add .save{\r\n        position: absolute;\r\n        display: flex;\r\n        width:1.01rem;\r\n        height: 0.94rem;\r\n        right:0;\r\n        top:0;\r\n        justify-content: center;\r\n        align-items: center;\r\n        font-size:0.32rem;\r\n        color:#C2CBD6;\r\n        opacity : 0.7;\r\n    }\r\n    .demandHead{\r\n        line-height: 0.94rem;\r\n        font-size:0.38rem;\r\n        color:#4E4E4E;\r\n    }\r\n    .demandContainer{\r\n        /* margin-top:0.94rem; */\r\n        position: fixed;\r\n        top:0.94rem;\r\n        left:0;\r\n        background: rgba(255,255,255,1);\r\n        width:100%;\r\n        /* height:calc(100vh - 0.94rem); */\r\n        /* overflow-y: scroll;\r\n        -webkit-overflow-scrolling: touch; */\r\n    }\r\n    .demandContainer .demandName{\r\n        width:100%;\r\n        padding:0 0.35rem;\r\n        border-bottom: 0.012rem solid #DEE6F2;\r\n        height:1.06rem;\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: space-between;\r\n    }\r\n    .demandName .name{\r\n        font-size:0.34rem;\r\n        color:#6E747E;\r\n    }\r\n    .demandContainer .demandType{\r\n        width:100%;\r\n        padding:0 0.35rem;\r\n        height:1.06rem;\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: space-between;\r\n    }\r\n    .demandType .type{\r\n        font-size:0.34rem;\r\n        color:#6E747E;\r\n    }\r\n    .middle{\r\n        width:100%;\r\n        height:0.65rem;\r\n        background:#F5F6F8;\r\n    }\r\n    .demandContain{\r\n        position: fixed;\r\n        bottom:0;\r\n        /* margin-top:4.06rem; */\r\n        /* height:calc(100vh - 4.06rem); */\r\n        width:100%;\r\n        /* padding-top:0.35rem; */\r\n        background: #fff;\r\n        /* overflow-y: scroll;\r\n        -webkit-overflow-scrolling: touch; */\r\n    }\r\n    .bigBox{\r\n        z-index: 99;\r\n        width:100%;\r\n        height:100%;\r\n        background:rgba(0,0,0,0.7);\r\n        position: fixed;\r\n        top:0;\r\n        display: none;\r\n        justify-content: center;\r\n        align-items: center;\r\n    }\r\n    .smallBox{\r\n        position: relative;\r\n        z-index: 999;\r\n        width:5.5rem;\r\n        height:2.74rem;\r\n    }\r\n    .smallBox img{\r\n        width:5.5rem;\r\n        height:2.74rem;\r\n    }\r\n    .smallBox .boxWord{\r\n        position:absolute;\r\n        width:100%;\r\n        /* height:1.74rem; */\r\n        display: flex;\r\n        justify-content: center;\r\n        /* align-items: center; */\r\n        text-align: center;\r\n        top:0.72rem;\r\n        left:0;\r\n        z-index: 1000;\r\n        font-size:0.34rem;\r\n        color:#fff;\r\n        letter-spacing:0.04rem;\r\n        color: rgba(78,78,78,1);\r\n        /* line-height: 0.48rem; */\r\n    }\r\n    .smallBox .button{\r\n        width:100%;\r\n        height:0.78rem;\r\n        position:absolute;\r\n        bottom:0.5rem;\r\n        left:0;\r\n        text-align:center;\r\n        z-index:1000;\r\n        padding:0 0.4rem;\r\n        display: flex;\r\n        justify-content: space-between\r\n    }\r\n    .button div{\r\n        width:2.18rem;\r\n        height:0.78rem;\r\n        /* display: inline-block; */\r\n        font-size:0.3rem;\r\n\r\n    }\r\n    .button .cancel{\r\n        color:#666666;\r\n        background:#ffffff;\r\n        border:0.012rem solid rgba(221,221,221,1);\r\n        border-radius: 0.39rem;\r\n        outline: none;\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: center;\r\n        padding-top:0.045rem;\r\n    }\r\n    .button .comfirm{\r\n        color:#ffffff;\r\n        background:#04CD9D ;\r\n        border-radius: 0.39rem;\r\n        border:0.012rem solid #04CD9D;\r\n        outline: none;\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: center;\r\n        padding-top:0.045rem;\r\n    }\r\n    .text-list-start-startText-mess-two{\r\n        width: 100%;\r\n        height: 1rem;\r\n        position: absolute;\r\n        z-index: 999;\r\n        display: flex;\r\n        justify-content: space-around;\r\n        align-content: center;\r\n        bottom: 0;\r\n        font-size: 0.34rem;\r\n        border-top: 0.012rem solid #E7ECF4;\r\n    }\r\n    .text-list-start-startText-mess-two-wait{\r\n        width: 48%;\r\n        height: 100%;\r\n        color:rgba(110,116,126,1);\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: center;\r\n        font-size: 0.34rem;\r\n    }\r\n    .text-list-start-startText-mess-two-go{\r\n        width: 48%;\r\n        height: 100%;\r\n        color:rgba(87, 148, 246, 1);\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: center;\r\n        font-size: 0.34rem;\r\n    }\r\n</style>\r\n<style>\r\n    .demand_add .demandName .el-input{\r\n        width:calc(100% - 1.2rem) !important;\r\n    }\r\n    .demand_add .demandName .el-input .el-input__inner{\r\n        border:0;\r\n        /* color:#C2CBD6; */\r\n        font-size:0.34rem;\r\n    }\r\n    .demand_add .demandType .el-select{\r\n        width:calc(100% - 1.2rem) !important;\r\n    }\r\n    .demand_add .demandType .el-select .el-input .el-input__inner{\r\n        border:0;\r\n        /* color:#C2CBD6; */\r\n        font-size:0.34rem;\r\n    }\r\n    .demand_add .demandType .el-select .el-input .el-select__caret{\r\n        color:#6E747E;\r\n        font-size:0.34rem;\r\n    }\r\n    .demand_add .demandContain .el-textarea{\r\n        max-height: calc(100vh - 4.06rem);\r\n    }\r\n    .demand_add .demandContain .el-textarea__inner{\r\n        border:0;\r\n        padding:0 0.35rem 0.35rem 0.35rem;\r\n        max-height: calc(100vh - 4.06rem);\r\n        font-size:0.32rem;\r\n        min-height: calc(100vh - 4.06rem) !important;\r\n        word-break: break-word;\r\n    }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/main/demand_add.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"demand_add\"},[_c('div',{staticClass:\"header\"},[_c('div',{staticClass:\"back\",on:{\"click\":function($event){$event.stopPropagation();_vm.back()}}},[_c('img',{attrs:{\"src\":require(\"../../assets/image/联合42.png\"),\"alt\":\"\"}})]),_vm._v(\" \"),_c('div',{staticClass:\"demandHead\"},[_vm._v(\"需求提报\")]),_vm._v(\" \"),_c('div',{staticClass:\"save\",on:{\"click\":function($event){_vm.personSave()}}},[_vm._v(\"提交\")])]),_vm._v(\" \"),_c('div',{staticClass:\"demandContainer\"},[_c('div',{staticClass:\"demandName\"},[_c('div',{staticClass:\"name\"},[_vm._v(\"名称\")]),_vm._v(\" \"),_c('el-input',{attrs:{\"placeholder\":\"请输入\",\"maxlength\":\"30\",\"clearable\":\"\"},model:{value:(_vm.nameinput),callback:function ($$v) {_vm.nameinput=$$v},expression:\"nameinput\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"demandType\"},[_c('div',{staticClass:\"type\"},[_vm._v(\"类型\")]),_vm._v(\" \"),_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.typeinput),callback:function ($$v) {_vm.typeinput=$$v},expression:\"typeinput\"}},_vm._l((_vm.type),function(item){return _c('el-option',{key:item.code,attrs:{\"value\":item.name}})}))],1),_vm._v(\" \"),_c('div',{staticClass:\"middle\"})]),_vm._v(\" \"),_c('div',{staticClass:\"demandContain\"},[_c('el-input',{attrs:{\"maxlength\":\"500\",\"type\":\"textarea\",\"autosize\":\"\",\"placeholder\":\"请输入内容\"},model:{value:(_vm.contain),callback:function ($$v) {_vm.contain=$$v},expression:\"contain\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"bigBox\"},[_c('div',{staticClass:\"smallBox\"},[_c('img',{attrs:{\"src\":require(\"../../assets/image/开始考试的背景.png\"),\"alt\":\"\"}}),_vm._v(\" \"),_c('div',{staticClass:\"boxWord\"},[_vm._v(\"将此次编辑保留？\")]),_vm._v(\" \"),_c('div',{staticClass:\"text-list-start-startText-mess-two\"},[_c('div',{staticClass:\"text-list-start-startText-mess-two-wait\",on:{\"click\":_vm.cancel}},[_vm._v(\"不保留\")]),_vm._v(\" \"),_c('div',{staticStyle:{\"width\":\"0.021rem\",\"height\":\"0.42rem\",\"background\":\"rgba(231,236,244,1)\",\"margin-top\":\"0.3rem\"}}),_vm._v(\" \"),_c('div',{staticClass:\"text-list-start-startText-mess-two-go\",on:{\"click\":_vm.comfirm}},[_vm._v(\"保留\")])])])]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isshowerror),expression:\"isshowerror\"}],staticClass:\"pwdError\"},[_c('img',{staticStyle:{\"position\":\"relative\",\"width\":\"4.3rem\",\"height\":\"0.76rem\"},attrs:{\"src\":require(\"../../assets/image/密码错误.png\")}}),_vm._v(\" \"),_c('div',{staticClass:\"pwdError-mes\"},[_vm._v(_vm._s(_vm.mess))])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-d3f3f120\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/main/demand_add.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-d3f3f120\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./demand_add.vue\")\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-d3f3f120\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=1!./demand_add.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./demand_add.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./demand_add.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-d3f3f120\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./demand_add.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-d3f3f120\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/main/demand_add.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}