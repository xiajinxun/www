webpackJsonp([31],{"V+5p":function(t,e){},aSy6:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});a("qONS");var i=a("UQTY"),s=a.n(i),o=a("P9l9"),n=a("7t+N"),d=a.n(n),l={name:"index",components:{Loading:a("ESgT").default},data:function(){return{name:"",specialCode:"",wordStudyData:[],isEmpty:!1,allLoaded:!1,topStatus:!1,queryLoading01:!1,moreLoading01:!1,allLoaded01:!1,pageSize:10,pageNum:1,pageCount:100,verDialogVisible:!0}},created:function(){this.specialCode=localStorage.getItem("dataListSpecialCode"),this.getSelectMateAndSche("down")},mounted:function(){},methods:{loadTop:function(){this.pageNum=1,this.allLoaded=!1,s.a.open({text:"加载中...",spinnerType:"fading-circle"}),this.getSelectMateAndSche("down"),this.$refs.loadmore.onTopLoaded()},loadBottom:function(){var t=this;this.allLoaded01?this.moreLoading01=!0:this.queryLoading01||(this.moreLoading01=!this.queryLoading01,setTimeout(function(){t.pageNum++,t.getSelectMateAndSche("up")},500))},getSelectMateAndSche:function(t){var e=this;this.queryLoading01=!1,this.moreLoading01=!1,this.allLoaded01=!1;var a=this;o.a.post("selectMateAndSche",{pageSize:this.pageSize,pageNum:this.pageNum,specialCode:this.specialCode,type:this.GLOBAL.TYPE.bookType},"json",function(i){i.success&&("down"===t&&(e.wordStudyData=[]),e.pageCount=i.data.total,a.forBackData(i.data.records),a.verDialogVisible=!1)})},forBackData:function(t){for(var e=0;e<t.length;e++)this.wordStudyData.push(t[e]);this.isEmpty=!1,this.allLoaded01=this.wordStudyData.length===this.pageCount||1===t.length,this.moreLoading01=this.allLoaded01,s.a.close(),0===this.wordStudyData.length?(d()(".empty").css("display","flex"),d()(".plan-list-page").css("display","none")):(d()(".empty").css("display","none"),d()(".plan-list-page").css("display","block"))},back:function(){this.$router.back()},enterStudy:function(t,e,a,i,s){var n=this;o.a.post("selectLastContent",{trainMateId:t},"json",function(o){if(o.success)if("epub"===s)n.$router.push({name:"text_train",params:{id:t,name:e,specialCode:a}});else{var d=navigator.userAgent,l=d.indexOf("Android")>-1||d.indexOf("Linux")>-1,r=!!d.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/);l&&cordova.InAppBrowser.open(i,"_system",'footer=yes,closebuttoncaption="返回",hideurlbar=yes,hidenavigationbuttons=yes,location=no'),r&&cordova.InAppBrowser.open(i,"_system",'footer=yes,closebuttoncaption="返回",hideurlbar=yes,hidenavigationbuttons=yes,location=no')}else n.$toast("该文档不存在"),n.loadTop()})},enterSearch:function(){localStorage.setItem("dataListSpecialCode",this.specialCode),localStorage.setItem("enterIndex",this.GLOBAL.ENTERSOURCE.bookSearch),this.$router.push({name:"search"})}}},r={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"book_list"},[i("div",{staticClass:"header"},[i("div",{staticClass:"back",on:{click:function(e){e.stopPropagation(),t.back()}}},[i("img",{attrs:{src:a("NDbq"),alt:""}})]),t._v(" "),i("div",{staticClass:"book_list_head"},[t._v("文档学习")]),t._v(" "),i("div",{staticClass:"search",on:{click:function(e){t.enterSearch()}}},[i("img",{attrs:{src:a("hDxa"),alt:""}})])]),t._v(" "),i("v-page",{staticClass:"plan-list-page",staticStyle:{"font-size":"0.3rem"}},[i("mt-loadmore",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.loadBottom,expression:"loadBottom"}],ref:"loadmore",staticClass:"loadmore",attrs:{"top-method":t.loadTop,"infinite-scroll-disabled":"moreLoading01","infinite-scroll-distance":"40","infinite-scroll-immediate-check":"false",autoFill:!1}},[i("div",{ref:"scrollContainer",staticClass:"activity-list"},[t._l(t.wordStudyData,function(e){return i("div",{key:e.id,staticClass:"wordStudy_item",on:{click:function(a){t.enterStudy(e.id,e.name,e.specialCode,e.url,e.fileType)}}},[i("div",{staticClass:"wordStudycontainLeft"},[i("div",{staticClass:"wordStudyName"},[t._v(t._s(e.name))]),t._v(" "),i("div",{staticClass:"wordStudyother"},[i("div",{staticClass:"wordStudybrowse"},[t._v("\n                            浏览 "+t._s(e.viewNum)+"\n                        ")])])])])}),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:!t.queryLoading01,expression:"!queryLoading01"}],staticClass:"more_loading",staticStyle:{height:"0.30rem","line-height":"0.30rem","text-align":"center"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.moreLoading01&&!t.allLoaded01,expression:"moreLoading01 && !allLoaded01"}],attrs:{type:"snake",color:"#00ccff",size:20}},[t._v("加载中...")]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.allLoaded01,expression:"allLoaded01"}],staticStyle:{color:"#ccc"}},[t._v("---- 看到底线了 ----")])])],2)]),t._v(" "),t.isEmpty?i("div",{staticClass:"list-empty-show"},[t._v("\n            暂无数据\n        ")]):t._e()],1),t._v(" "),t._m(0),t._v(" "),i("Loading",{attrs:{dialogVisible:t.verDialogVisible}})],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"empty"},[e("img",{attrs:{src:a("grmO"),alt:""}}),this._v(" "),e("div",{staticClass:"emptyWord"},[this._v("空空如也~")])])}]};var c=a("VU/8")(l,r,!1,function(t){a("V+5p")},"data-v-9381d80a",null);e.default=c.exports}});
//# sourceMappingURL=31.99d880cf7502a84dc621.js.map