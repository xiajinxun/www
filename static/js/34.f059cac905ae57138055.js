webpackJsonp([34],{QGYb:function(t,e){},ahWu:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("ESgT"),a=s("P9l9"),n=s("7t+N"),o=s.n(n),r={components:{Loading:i.default},data:function(){return{name:"",email:"",tel:"",branchName:"",companyName:"",mess:"",isshowerror:!1,initialTel:"",initialEmail:"",verDialogVisible:!0}},created:function(){this.getPerAndOrgByUserId()},mounted:function(){document.addEventListener("backbutton",this.onBackKeyDown,!1)},beforeDestroy:function(){document.removeEventListener("backbutton",this.onBackKeyDown,!1)},methods:{back:function(){"1"===o()(".save").css("opacity")?o()(".bigBox").css("display","flex"):this.$router.back()},onBackKeyDown:function(){this.back()},cancel:function(){o()(".bigBox").css("display","none")},comfirm:function(){o()(".bigBox").css("display","none"),this.$router.back()},getPerAndOrgByUserId:function(){var t=this;a.a.post("getPerAndOrgByUserId",{},"json",function(e,s){e.success&&(t.personId=e.data.personnel.id,t.name=e.data.personnel.name,t.email=e.data.personnel.email,t.tel=e.data.personnel.tel,t.branchName=e.data.branchName,t.companyName=e.data.companyName,t.initialTel=e.data.personnel.tel,t.initialEmail=e.data.personnel.email,t.verDialogVisible=!1)})},getModify:function(){var t=this;a.a.post("modify",{tel:this.tel,email:this.email,id:this.personId},"json",function(e,s){e.success?t.$router.back():alert(e.msg)})},personSave:function(){if("1"===o()(".save").css("opacity")){if(""===this.tel||null===this.tel){this.mess="电话不能为空，请输入",this.$toast(this.mess);var t=this;return void setTimeout(function(){t.isshowerror=!1},5e3)}if(""!==this.tel&&null!==this.tel){if(!/^[1][3,4,5,7,8][0-9]{9}$/.test(this.tel)){this.mess="电话格式不正确，请重新输入",this.$toast(this.mess);var e=this;return void setTimeout(function(){e.isshowerror=!1},5e3)}}if(""===this.email||null===this.email){this.mess="邮箱不能为空，请输入",this.$toast(this.mess);var s=this;return void setTimeout(function(){s.isshowerror=!1},5e3)}if(""!==this.email&&null!==this.email){if(!/^[A-Za-z0-9\u4e00-\u9fa5]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/.test(this.email)){this.mess="邮箱格式不正确，请重新输入",this.$toast(this.mess);var i=this;return void setTimeout(function(){i.isshowerror=!1},5e3)}}this.getModify()}}},watch:{tel:function(t,e){t!==this.initialTel&&(this.tel=this.tel.replace(/[^\d]/g,"")),this.isshowerror=!1,this.tel!==this.initialTel||this.email!==this.initialEmail?(o()(".save").css("opacity","1"),o()(".save").css("color","#6E747E")):(o()(".save").css("opacity","0.7"),o()(".save").css("color","#C2CBD6"))},email:function(t,e){t!==this.initialEmail&&(this.email=this.email.replace(/[\u4e00-\u9fa5]/g,""),this.email=this.email.replace(/\s+/g,"")),this.isshowerror=!1,this.email!==this.initialEmail||this.tel!==this.initialTel?(o()(".save").css("opacity","1"),o()(".save").css("color","#6E747E")):(o()(".save").css("opacity","0.7"),o()(".save").css("color","#C2CBD6"))}}},l={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"text_person"},[i("div",{staticClass:"header"},[i("div",{staticClass:"back",on:{click:function(e){e.stopPropagation(),t.back()}}},[i("img",{attrs:{src:s("NDbq"),alt:""}})]),t._v(" "),i("div",{staticClass:"personHead"},[t._v("个人信息")]),t._v(" "),i("div",{staticClass:"save",on:{click:function(e){t.personSave()}}},[t._v("保存")])]),t._v(" "),i("div",{staticClass:"personContainer"},[i("div",[i("span",{staticClass:"personLeft"},[t._v("姓名")]),t._v(" "),i("span",{staticStyle:{"line-height":"0.48rem",color:"#999"}},[t._v(t._s(t.name))])]),t._v(" "),i("div",[i("span",{staticClass:"personLeft"},[t._v("电话")]),t._v(" "),i("span",{staticStyle:{"line-height":"0.48rem"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.tel,expression:"tel"}],ref:"tel",staticStyle:{"text-align":"right",outline:"none",color:"#333333"},attrs:{type:"text",maxlength:"11"},domProps:{value:t.tel},on:{input:function(e){e.target.composing||(t.tel=e.target.value)}}})])]),t._v(" "),i("div",[i("span",{staticClass:"personLeft"},[t._v("邮箱")]),t._v(" "),i("span",{staticStyle:{"line-height":"0.48rem"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticStyle:{"text-align":"right",outline:"none",color:"#333333",width:"5.5rem"},attrs:{type:"text",maxlength:"25"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})])]),t._v(" "),i("div",[i("span",{staticClass:"personLeft"},[t._v("公司")]),t._v(" "),i("span",{staticStyle:{"line-height":"0.48rem",color:"#999"}},[t._v(t._s(t.companyName))])]),t._v(" "),i("div",[i("span",{staticClass:"personLeft"},[t._v("部门")]),t._v(" "),i("span",{staticStyle:{"line-height":"0.48rem",color:"#999"}},[t._v(t._s(t.branchName))])])]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.isshowerror,expression:"isshowerror"}],staticClass:"pwdError"},[i("img",{staticStyle:{position:"relative",width:"4.3rem",height:"0.76rem"},attrs:{src:s("LKal")}}),t._v(" "),i("div",{staticClass:"pwdError-mes"},[t._v(t._s(t.mess))])]),t._v(" "),i("div",{staticClass:"bigBox"},[i("div",{staticClass:"smallBox"},[i("img",{attrs:{src:s("5qvR"),alt:""}}),t._v(" "),t._m(0),t._v(" "),i("div",{staticClass:"text-list-start-startText-mess-two"},[i("div",{staticClass:"text-list-start-startText-mess-two-wait",on:{click:t.cancel}},[t._v("取消")]),t._v(" "),i("div",{staticStyle:{width:"0.021rem",height:"0.42rem",background:"rgba(231,236,244,1)","margin-top":"0.3rem"}}),t._v(" "),i("div",{staticClass:"text-list-start-startText-mess-two-go",on:{click:t.comfirm}},[t._v("确定")])])])]),t._v(" "),i("Loading",{attrs:{dialogVisible:t.verDialogVisible}})],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"boxWord"},[this._v("您编辑的内容还未保存"),e("br"),this._v("确定返回?")])}]};var c=s("VU/8")(r,l,!1,function(t){s("QGYb")},"data-v-72d1ec5e",null);e.default=c.exports}});
//# sourceMappingURL=34.f059cac905ae57138055.js.map