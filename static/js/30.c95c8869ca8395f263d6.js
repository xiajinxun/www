webpackJsonp([30],{"5r2a":function(t,e){},"7DEJ":function(t,e){},Q2Oj:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});s("qONS");var a=s("UQTY"),i=s.n(a),n=(s("7DEJ"),s("ESgT")),o=s("P9l9"),l=s("7t+N"),r=s.n(l),c={name:"index",components:{Loading:n.default},data:function(){return{name:"",newsListData:[],isEmpty:!1,allLoaded:!1,topStatus:!1,queryLoading01:!1,moreLoading01:!1,allLoaded01:!1,pageSize:10,pageNum:1,pageCount:100,verDialogVisible:!0}},created:function(){this.getfindNewsBase("down")},mounted:function(){},methods:{loadTop:function(){this.pageNum=1,this.allLoaded=!1,i.a.open({text:"加载中...",spinnerType:"fading-circle"}),this.getfindNewsBase("down"),this.$refs.loadmore.onTopLoaded()},loadBottom:function(){var t=this;this.allLoaded01?this.moreLoading01=!0:this.queryLoading01||(this.moreLoading01=!this.queryLoading01,setTimeout(function(){t.pageNum++,t.getfindNewsBase("up")},500))},getfindNewsBase:function(t){var e=this;this.queryLoading01=!1,this.moreLoading01=!1,this.allLoaded01=!1;var s=this;o.a.post("findNewsBase",{pageMsg:{currentPage:this.pageNum,pageSize:this.pageSize},queryFilter:{status:"1302"}},"json",function(a,i){a.success?("down"===t&&(e.newsListData=[]),e.pageCount=a.data.total,s.forBackData(a.data.records),s.verDialogVisible=!1):(console.log(a.msg),s.verDialogVisible=!1)})},forBackData:function(t){for(var e=0;e<t.length;e++)t[e].publishTime=this.GLOBAL.changeTime(t[e].publishTime),this.newsListData.push(t[e]);this.isEmpty=!1,this.allLoaded01=this.newsListData.length===this.pageCount||1===t.length,this.moreLoading01=this.allLoaded01,i.a.close(),0===this.newsListData.length?(r()(".empty").css("display","flex"),r()(".plan-list-page").css("display","none")):(r()(".empty").css("display","none"),r()(".plan-list-page").css("display","block"))},back:function(){this.$router.back()},enterSearch:function(){localStorage.setItem("enterIndex",this.GLOBAL.ENTERSOURCE.newsSearch),this.$router.push({name:"search"})},enterNewsDetail:function(t){var e=this;o.a.post("findNewsDetilById",{id:t,status:"1302"},"json",function(s,a){s.success&&(s.data?e.$router.push({name:"news_detail",params:{id:t}}):(e.$toast("该新闻不存在"),e.loadTop()))})}}},d={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"news_list"},[a("div",{staticClass:"header"},[a("div",{staticClass:"back",on:{click:function(e){e.stopPropagation(),t.back()}}},[a("img",{attrs:{src:s("NDbq"),alt:""}})]),t._v(" "),a("div",{staticClass:"news_list_head"},[t._v("新闻")]),t._v(" "),a("div",{staticClass:"search",on:{click:function(e){t.enterSearch()}}},[a("img",{attrs:{src:s("hDxa"),alt:""}})])]),t._v(" "),a("v-page",{staticClass:"plan-list-page",staticStyle:{"font-size":"0.3rem"}},[a("mt-loadmore",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.loadBottom,expression:"loadBottom"}],ref:"loadmore",staticClass:"loadmore",attrs:{"top-method":t.loadTop,"infinite-scroll-disabled":"moreLoading01","infinite-scroll-distance":"40","infinite-scroll-immediate-check":"false",autoFill:!1}},[a("div",{ref:"scrollContainer",staticClass:"activity-list"},[t._l(t.newsListData,function(e){return a("div",{key:e.id,staticClass:"newsList_item",on:{click:function(s){s.stopPropagation(),t.enterNewsDetail(e.id)}}},[a("div",{staticClass:"newsListcontainLeft"},[e.newsImg?t._e():a("img",{attrs:{src:s("5VbN"),alt:""}}),t._v(" "),e.newsImg?a("img",{attrs:{src:e.newsImg,alt:""}}):t._e()]),t._v(" "),a("div",{staticClass:"newsListcontainRight"},[a("div",{staticClass:"containTop"},[t._v("\n                        "+t._s(e.title)+"\n                    ")]),t._v(" "),a("div",{staticClass:"containBottom"},[a("div",{staticClass:"containSource"},[t._v("\n                            "+t._s(e.source)+"\n                        ")]),t._v(" "),a("div",{staticClass:"containTime"},[t._v("\n                            "+t._s(e.publishTime)+"\n                        ")])])])])}),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.queryLoading01,expression:"!queryLoading01"}],staticClass:"more_loading",staticStyle:{height:"0.30rem","line-height":"0.30rem","text-align":"center"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.moreLoading01&&!t.allLoaded01,expression:"moreLoading01 && !allLoaded01"}],attrs:{type:"snake",color:"#00ccff",size:20}},[t._v("加载中...")]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.allLoaded01,expression:"allLoaded01"}],staticStyle:{color:"#ccc","margin-top":"0.1rem"}},[t._v("---- 看到底线了 ----")])])],2)]),t._v(" "),t.isEmpty?a("div",{staticClass:"list-empty-show"},[t._v("\n            暂无数据\n        ")]):t._e()],1),t._v(" "),t._m(0),t._v(" "),a("Loading",{attrs:{dialogVisible:t.verDialogVisible}})],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"empty"},[e("img",{attrs:{src:s("grmO"),alt:""}}),this._v(" "),e("div",{staticClass:"emptyWord"},[this._v("空空如也~")])])}]};var m=s("VU/8")(c,d,!1,function(t){s("5r2a")},"data-v-5fb0e40a",null);e.default=m.exports}});
//# sourceMappingURL=30.c95c8869ca8395f263d6.js.map