webpackJsonp([32],{UFBv:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});e("qONS");var i=e("UQTY"),s=e.n(i),o=e("ESgT"),n=e("P9l9"),r=e("7t+N"),d=e.n(r),l={name:"index",components:{Loading:o.default},data:function(){return{name:"",specialCode:"",wordStudyData:[],isEmpty:!1,allLoaded:!1,topStatus:!1,queryLoading01:!1,moreLoading01:!1,allLoaded01:!1,pageSize:10,pageNum:1,pageCount:100,verDialogVisible:!0}},created:function(){this.specialCode=localStorage.getItem("dataListSpecialCode"),this.findRecentBrowsed("down")},mounted:function(){d()(".notData-all").hide(),window.onresize=function(){d()(document).height()<400?d()(".activity-list").css("min-height","5.4rem"):d()(".activity-list").css("min-height","11.12rem")}},methods:{loadTop:function(){this.pageNum=1,this.allLoaded=!1,s.a.open({text:"加载中...",spinnerType:"fading-circle"}),this.findRecentBrowsed("down"),this.$refs.loadmore.onTopLoaded()},loadBottom:function(){var t=this;this.allLoaded01?this.moreLoading01=!0:this.queryLoading01||(this.moreLoading01=!this.queryLoading01,setTimeout(function(){t.pageNum++,t.findRecentBrowsed("up")},500))},findRecentBrowsed:function(t){var a=this;this.queryLoading01=!1,this.moreLoading01=!1,this.allLoaded01=!1;var e=this;n.a.post("findFavoAndScheAndView",{pageSize:this.pageSize,pageNum:this.pageNum},"json",function(i,s){i.success?("down"===t&&(a.wordStudyData=[]),a.pageCount=i.data.total,e.forBackData(i.data.records),a.verDialogVisible=!1):console.log(i.msg)})},forBackData:function(t){for(var a=0;a<t.length;a++)this.wordStudyData.push(t[a]);this.isEmpty=!1,this.allLoaded01=this.wordStudyData.length===this.pageCount||1===t.length,this.moreLoading01=this.allLoaded01,s.a.close(),0===this.wordStudyData.length?(d()(".empty").css("display","flex"),d()(".plan-list-page").css("display","none")):(d()(".empty").css("display","none"),d()(".plan-list-page").css("display","block"))},back:function(){this.$router.back()},enterStudy:function(t,a,e,i,s){var o=this;n.a.post("selectLastContent",{trainMateId:t},"json",function(n,r){if(n.success)if("epub"===s)o.$router.push({name:"text_train",params:{id:t,name:a,specialCode:e}});else{var d=navigator.userAgent,l=d.indexOf("Android")>-1||d.indexOf("Linux")>-1,c=!!d.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/);l&&cordova.InAppBrowser.open(i,"_system",'footer=yes,closebuttoncaption="返回",hideurlbar=yes,hidenavigationbuttons=yes,location=no'),c&&cordova.InAppBrowser.open(i,"_system",'footer=yes,closebuttoncaption="返回",hideurlbar=yes,hidenavigationbuttons=yes,location=no')}else o.$toast("该文档不存在"),o.loadTop()})},enterVideoDetail:function(t,a,e){var i=this;n.a.post("findVideoDetilsById",{deflag:"0",id:t},"json",function(a,s){a.success&&(a.data?i.$router.push({name:"video_detail",params:{id:t,specialCode:e}}):(i.$toast("该视频不存在"),i.loadTop()))})}}},c={render:function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",{staticClass:"me_like"},[i("div",{staticClass:"header"},[i("div",{staticClass:"back",on:{click:function(a){a.stopPropagation(),t.back()}}},[i("img",{attrs:{src:e("NDbq"),alt:""}})]),t._v(" "),i("div",{staticClass:"me_like_head"},[t._v("我喜欢")])]),t._v(" "),i("v-page",{staticClass:"plan-list-page",staticStyle:{"font-size":"0.3rem"}},[i("mt-loadmore",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.loadBottom,expression:"loadBottom"}],ref:"loadmore",staticClass:"loadmore",attrs:{"top-method":t.loadTop,"infinite-scroll-disabled":"moreLoading01","infinite-scroll-distance":"40","infinite-scroll-immediate-check":"false",autoFill:!1}},[i("div",{ref:"scrollContainer",staticClass:"activity-list"},[t._l(t.wordStudyData,function(a){return i("div",{key:a.id,staticClass:"wordStudy_item"},["1201"!=a.trainMaterials.type&&a.trainMaterials.type?t._e():i("div",{staticClass:"wordStudy",on:{click:function(e){e.stopPropagation(),t.enterStudy(a.trainMaterials.id,a.trainMaterials.name,a.trainMaterials.specialCode,a.trainMaterials.url,a.trainMaterials.fileType)}}},[i("div",{staticClass:"wordStudycontainLeft"},[i("div",{staticClass:"wordStudyName"},[t._v(t._s(a.trainMaterials.name))]),t._v(" "),i("div",{staticClass:"wordStudyother"},[i("div",{staticClass:"wordStudybrowse"},[t._v("\n                                    浏览 "+t._s(a.trainMaterials.viewNum)+"\n                                ")])])])]),t._v(" "),"1202"==a.trainMaterials.type?i("div",{staticClass:"videoStudy",on:{click:function(e){e.stopPropagation(),t.enterVideoDetail(a.trainMaterials.id,a.trainMaterials.specialCode)}}},[i("div",{staticClass:"videoStudycontainLeft"},[i("div",{staticClass:"videoStudyName"},[t._v(t._s(a.trainMaterials.name))]),t._v(" "),i("div",{staticClass:"videoStudybrowse"},[t._v("浏览 "+t._s(a.trainMaterials.viewNum))])]),t._v(" "),i("div",{staticClass:"videoStudycontainRight"},[a.trainMaterials.imageUrl?t._e():i("img",{staticClass:"poster",attrs:{src:e("enrH"),alt:""}}),t._v(" "),a.trainMaterials.imageUrl?i("img",{staticClass:"poster",attrs:{src:a.trainMaterials.imageUrl,alt:""}}):t._e(),t._v(" "),i("div",{staticClass:"videoPlay"},[i("img",{staticClass:"playButton",attrs:{src:e("Zd+s"),alt:""}})])])]):t._e()])}),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:!t.queryLoading01,expression:"!queryLoading01"}],staticClass:"more_loading",staticStyle:{height:"0.30rem","line-height":"0.30rem","text-align":"center"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.moreLoading01&&!t.allLoaded01,expression:"moreLoading01 && !allLoaded01"}],attrs:{type:"snake",color:"#00ccff",size:20}},[t._v("加载中...")]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.allLoaded01,expression:"allLoaded01"}],staticStyle:{color:"#ccc","margin-top":"0.1rem"}},[t._v("---- 看到底线了 ----")])])],2)]),t._v(" "),t.isEmpty?i("div",{staticClass:"list-empty-show"},[t._v("\n            暂无数据\n        ")]):t._e()],1),t._v(" "),t._m(0),t._v(" "),i("Loading",{attrs:{dialogVisible:t.verDialogVisible}})],1)},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"empty"},[a("img",{attrs:{src:e("grmO"),alt:""}}),this._v(" "),a("div",{staticClass:"emptyWord"},[this._v("空空如也~")])])}]};var u=e("VU/8")(l,c,!1,function(t){e("bZSH")},"data-v-90023df2",null);a.default=u.exports},bZSH:function(t,a){}});
//# sourceMappingURL=32.2fce455554596ef033a5.js.map